<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>â­ Cute Star Dash â­</title>

<style>
/* ---------- GLOBAL ---------- */
body{
  margin:0;
  font-family: Arial, sans-serif;
  font-weight:bold;
  background: radial-gradient(circle at top, #ffddff, #cceeff);
  overflow:hidden;
  touch-action:none;
}
canvas{
  display:block;
  margin:auto;
  margin-top:90px;
  background:#fff;
  border-radius:24px;
  box-shadow:0 25px 50px rgba(0,0,0,0.3);
}

/* ---------- UPDATE BANNER ---------- */
.update-banner{
  position:fixed;
  top:0;
  width:100%;
  text-align:center;
  padding:14px;
  font-size:22px;
  letter-spacing:2px;
  background: linear-gradient(90deg,#ff00cc,#ffdd00,#00ffcc,#ff00cc);
  color:white;
  text-shadow:2px 2px #000;
  animation: shimmer 4s linear infinite;
}
@keyframes shimmer{
  0%{background-position:0%}
  100%{background-position:200%}
}

/* ---------- TOP BUTTONS ---------- */
.topUI{
  position:fixed;
  top:55px;
  right:10px;
}
.topUI button{
  padding:8px 14px;
  border-radius:16px;
  border:none;
  background:#6bcfff;
  color:white;
  margin-left:5px;
}

/* ---------- START SCREEN ---------- */
.startScreen{
  position:fixed;
  inset:0;
  background:linear-gradient(#ffccff,#ccf2ff);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
}
.startScreen input, .startScreen button{
  padding:12px;
  border-radius:16px;
  border:none;
  margin:6px;
  font-size:16px;
  font-weight:bold;
}

/* ---------- JOYSTICK ---------- */
.controls{
  position:fixed;
  bottom:20px;
  right:20px;
  display:grid;
  grid-template-columns:60px 60px 60px;
  gap:8px;
}
.controls button{
  width:60px;
  height:60px;
  border-radius:50%;
  border:none;
  font-size:22px;
  background:#6bcfff;
}

/* ---------- MODALS ---------- */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:none;
  justify-content:center;
  align-items:center;
}
.box{
  background:white;
  width:350px;
  padding:16px;
  border-radius:22px;
  text-align:center;
}
.shopBtn{
  margin:6px;
  padding:8px 12px;
  border-radius:14px;
  border:none;
  background:#ffb347;
}

/* ---------- CREDITS ---------- */
.credits{
  position:fixed;
  bottom:10px;
  width:100%;
  text-align:center;
  color:#ff1493;
  font-size:18px;
  text-shadow:2px 2px #fff;
}
</style>
</head>

<body>
<div class="update-banner">ğŸŒŸ NEW UPDATE!!! ğŸŒŸ</div>

<div class="topUI">
  <button onclick="toggleInventory()">ğŸ’ Inventory</button>
  <button onclick="toggleStore()">ğŸ›’ Store</button>
</div>

<div class="startScreen" id="startScreen">
  <h2>â­ Cute Star Dash â­</h2>
  <input id="playerName" placeholder="Enter your name">
  <button onclick="startGame()">START</button>
</div>

<canvas id="game" width="480" height="480"></canvas>

<div class="controls">
  <div></div>
  <button onpointerdown="keys.up=true" onpointerup="keys.up=false">â¬†ï¸</button>
  <div></div>
  <button onpointerdown="keys.left=true" onpointerup="keys.left=false">â¬…ï¸</button>
  <button onpointerdown="keys.down=true" onpointerup="keys.down=false">â¬‡ï¸</button>
  <button onpointerdown="keys.right=true" onpointerup="keys.right=false">â¡ï¸</button>
</div>

<!-- INVENTORY -->
<div class="modal" id="inventory">
  <div class="box">
    <h3>ğŸ’ Inventory</h3>
    <p id="money"></p>
    <p>Owned Balls:</p>
    <div id="ballList"></div>
    <br>
    <button onclick="toggleInventory()">Close</button>
  </div>
</div>

<!-- STORE -->
<div class="modal" id="store">
  <div class="box">
    <h3>ğŸ›’ Dash Store</h3>
    <p id="storeMoney"></p>

    <h4>ğŸ’ Subscriptions</h4>
    <button class="shopBtn" onclick="buySub('music')">ğŸµ Music Pass (50)</button>
    <button class="shopBtn" onclick="buySub('ultimate')">ğŸ‘‘ Ultimate Pass (200)</button>

    <h4>âš½ Balls</h4>
    <button class="shopBtn" onclick="buyBall('galaxy',100)">ğŸŒŒ Galaxy Ball (100)</button>
    <button class="shopBtn" onclick="buyBall('rainbow',75)">ğŸŒˆ Rainbow Ball (75)</button>
    <button class="shopBtn" onclick="buyBall('neon',50)">ğŸ’¥ Neon Ball (50)</button>

    <br><br>
    <button onclick="toggleStore()">Close</button>
  </div>
</div>

<div class="credits">Created by Joshua | IG: @jshctz.mp3</div>

<audio id="music" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<script>
/* ---------- DATA ---------- */
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
let keys={up:false,down:false,left:false,right:false};
let started=false;

let player={x:240,y:240,r:14,speed:4,ball:"basic"};
let stars=[],enemies=[];
let score=0;

let dashBucks=parseInt(localStorage.getItem("dashBucks")||"0");
let ownedBalls=JSON.parse(localStorage.getItem("balls")||'["basic"]');
let subs=JSON.parse(localStorage.getItem("subs")||'{}');

/* ---------- START ---------- */
function startGame(){
  if(!document.getElementById("playerName").value)return alert("Enter name");
  document.getElementById("startScreen").style.display="none";
  started=true;
  document.getElementById("music").play();
}

/* ---------- STORE ---------- */
function buySub(type){
  if(type==="music" && dashBucks>=50){
    dashBucks-=50; subs.music=true;
    alert("ğŸµ Music Pass unlocked!");
  }
  if(type==="ultimate" && dashBucks>=200){
    dashBucks-=200; subs.ultimate=true;
    alert("ğŸ‘‘ Ultimate Pass unlocked!");
  }
  save();
}
function buyBall(ball,cost){
  if(dashBucks>=cost && !ownedBalls.includes(ball)){
    dashBucks-=cost;
    ownedBalls.push(ball);
    player.ball=ball;
    alert(ball.toUpperCase()+" unlocked!");
    save();
  }
}

/* ---------- UI ---------- */
function toggleInventory(){
  inventory.style.display=inventory.style.display==="flex"?"none":"flex";
  money.textContent="Dash Bucks: "+dashBucks;
  ballList.innerHTML=ownedBalls.join(" â€¢ ");
}
function toggleStore(){
  store.style.display=store.style.display==="flex"?"none":"flex";
  storeMoney.textContent="Dash Bucks: "+dashBucks;
}

/* ---------- GAME ---------- */
function spawnStar(){stars.push({x:Math.random()*440+20,y:Math.random()*440+20,r:8});}
function spawnEnemy(){enemies.push({x:Math.random()*440+20,y:Math.random()*440+20,r:14,vx:2,vy:2});}
spawnStar(); spawnEnemy();

function update(){
  if(!started)return;
  if(keys.up)player.y-=player.speed;
  if(keys.down)player.y+=player.speed;
  if(keys.left)player.x-=player.speed;
  if(keys.right)player.x+=player.speed;

  stars.forEach((s,i)=>{
    if(Math.hypot(player.x-s.x,player.y-s.y)<player.r+s.r){
      stars.splice(i,1);
      score++;
      dashBucks+=subs.ultimate?2:1;
      spawnStar();
    }
  });
}
function draw(){
  ctx.clearRect(0,0,480,480);
  stars.forEach(s=>{ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,7);ctx.fillStyle="#ffd700";ctx.fill();});
  ctx.beginPath();
  ctx.arc(player.x,player.y,player.r,0,7);
  ctx.fillStyle=player.ball==="galaxy"?"#b84cff":
               player.ball==="rainbow"?"#ff69b4":
               player.ball==="neon"?"#00ffcc":"#6bcfff";
  ctx.fill();
  ctx.fillStyle="#333";
  ctx.fillText("â­ "+score,10,20);
  ctx.fillText("ğŸ’° "+dashBucks,10,40);
}
function loop(){update();draw();requestAnimationFrame(loop);}
loop();

/* ---------- SAVE ---------- */
function save(){
  localStorage.setItem("dashBucks",dashBucks);
  localStorage.setItem("balls",JSON.stringify(ownedBalls));
  localStorage.setItem("subs",JSON.stringify(subs));
}
document.addEventListener("contextmenu",e=>e.preventDefault());
</script>
</body>
</html>
